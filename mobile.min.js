!function(a){"use strict";a.module("ngMobile",[]).factory("$mobileUtils",["$window","$timeout",function(a,b){var c,d,e,f,g=25,h=2500,i=function(a,b,c,d){return Math.abs(a-c)<g&&Math.abs(b-d)<g},j=function(a,b,c){var d;for(d=0;d<a.length;d+=1)if(i(a[d][0],a[d][1],b,c))return a.splice(d,d+1),!0;return!1},k=function(a){if(!(Date.now()-c>h)){var b=a.touches&&a.touches.length?a.touches:[a],d=b[0].clientX,g=b[0].clientY;1>d&&1>g||j("mousedown"===a.type?e:f,d,g)||(a.stopPropagation(),a.preventDefault())}},l=function(c){var g=c.touches&&c.touches.length?c.touches:[c],i=g[0].clientX,j=g[0].clientY,l=g[0].identifier;e.push([i,j,l]),f.push([i,j,l]),0===d&&a.document.addEventListener("mousedown",k,!0),d+=1,b(function(){var b;for(d-=1,0===d&&a.document.removeEventListener("mousedown",k,!0),b=0;b<e.length;b+=1)if(e[b][2]===l){e.splice(b,b+1);break}for(b=0;b<f.length;b+=1)if(f[b][2]===l){f.splice(b,b+1);break}},h,!1)};return{preventGhostClick:function(g,i){f||(f=[],e=[],d=1,a.document.addEventListener("touchstart",l,!0),a.document.addEventListener("mousedown",k,!0),b(function(){d-=1,0===d&&a.document.removeEventListener("mousedown",k,!0)},h,!1),a.document.addEventListener("click",k,!0)),c=Date.now(),j(e,g,i),j(f,g,i)},DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_UP:"up",DIRECTION_RIGHT:"right",EVENT_START:"start",EVENT_MOVE:"move",EVENT_END:"end",HAS_POINTEREVENTS:a.navigator.pointerEnabled||a.navigator.msPointerEnabled,HAS_TOUCHEVENTS:void 0===a.ontouchend,EVENT_TYPES:{},hasParent:function(a,b){for(;a;){if(a===b)return!0;a=a.parentNode}return!1},getCenter:function(a){var b,c,d=[],e=[];for(b=0,c=a.length;c>b;b+=1)d.push(a[b].pageX),e.push(a[b].pageY);return{pageX:(Math.min.apply(Math,d)+Math.max.apply(Math,d))/2,pageY:(Math.min.apply(Math,e)+Math.max.apply(Math,e))/2}},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){var c=b.pageY-a.pageY,d=b.pageX-a.pageX;return 180*Math.atan2(c,d)/Math.PI},getDirection:function(a,b){var c=Math.abs(a.pageX-b.pageX),d=Math.abs(a.pageY-b.pageY);return c>=d?a.pageX-b.pageX>0?this.DIRECTION_LEFT:this.DIRECTION_RIGHT:a.pageY-b.pageY>0?this.DIRECTION_UP:this.DIRECTION_DOWN},getDistance:function(a,b){var c=b.pageX-a.pageX,d=b.pageY-a.pageY;return Math.sqrt(c*c+d*d)},getScale:function(a,b){return a.length>=2&&b.length>=2?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return a.length>=2&&b.length>=2?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a===this.DIRECTION_UP||a===this.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(a,b){var c,d,e,f=["webkit","khtml","moz","ms","o",""];if(b&&a.style){for(d=0;d<f.length;d+=1)for(e in b)b.hasOwnProperty(e)&&(c=e,f[d]&&(c=f[d]+c.substring(0,1).toUpperCase()+c.substring(1)),a.style[c]=b[e]);"none"===b.userSelect&&(a.onselectstart=function(){return!1},a.ondragstart=function(){return!1})}}}}]).provider("$mobile",function(){var b={setBrowserBehaviors:!0},c={userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"};this.setGestureDefaults=function(c){a.extend(b,c)},this.setDefaultBrowserBehavior=function(b){a.extend(c,b)},this.$get=["$window","$document","$timeout","$mobileUtils",function(d,e,f,g){var h,i={},j=0,k={},l={},m=function(a,b){f(function(){a.releasePointerCapture(b)},0,!1)},n=function(b,c,d,e){var f,h;if(e=e||[],d.enabled&&(h=[],a.forEach(l[d],function(a){this.push(a)},h),c===g.EVENT_END&&e.length-d.pointersCount>0&&(c=g.EVENT_MOVE),d.detect({center:g.getCenter(h),timeStamp:Date.now(),target:b.target,touches:h,eventType:c,srcEvent:b,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault?this.srcEvent.preventDefault():this.srcEvent.returnValue=!1},stopPropagation:function(){this.srcEvent.propagation_stop_sig=!0,this.srcEvent.stopPropagation?this.srcEvent.stopPropagation():this.srcEvent.cancelBubble=!0},stopDetect:function(){return d.stopDetect()}})),c===g.EVENT_END)d.stopDetect();else for(f=0;f<e.length;f+=1)delete k[e[f]],delete l[d][e[f]],d.pointersCount=d.pointersCount-1},o=function(a,b){a.bind(g.EVENT_TYPES[b],function(c){if(c=c.originalEvent||c,!(c===h||c.type.match(/mouse/i)&&1!==(c.which||c.button)||c.type.match(/pointerdown/i)&&0!==c.button)){h=c;var e,f,i,j,o,p,q=c.changedTouches&&c.changedTouches.length?c.changedTouches:c.touches&&c.touches.length?c.touches:[c],r={};if(b===g.EVENT_START){o=[],e=a;do j=e.data("__$mobile.config__"),j&&j.enabled&&o.push(j),e=e.parent();while(e[0]);for(f=0;f<q.length;f+=1){if(p=!1,i=q[f],i.identifier=void 0!==i.identifier?i.identifier:void 0!==i.pointerId?i.pointerId:1,k[i.identifier])for(j=k[i.identifier],e=0;e<j.length;e+=1)j[e].stopDetect();for(k[i.identifier]=[],e=0;e<o.length;e+=1)j=o[e],j.pointersCount<j.pointersMax&&(j.options.touchActiveClass&&a.addClass(j.options.touchActiveClass),k[i.identifier].push(j),0===j.pointersCount&&(l[j]={}),l[j][i.identifier]=i,j.pointersCount=j.pointersCount+1,!p&&g.HAS_POINTEREVENTS&&(a[0].setPointerCapture||(a[0].setPointerCapture=a[0].msSetPointerCapture,a[0].releasePointerCapture=a[0].msReleasePointerCapture),a[0].setPointerCapture(i.identifier),p=!0));d.document.addEventListener||(i.pageX=i.clientX+d.document.body.scrollLeft,i.pageY=i.clientY+d.document.body.scrollTop)}}else for(f=0;f<q.length;f+=1)if(p=!1,i=q[f],i.identifier=void 0!==i.identifier?i.identifier:void 0!==i.pointerId?i.pointerId:1,k[i.identifier])for(o=k[i.identifier],d.document.addEventListener||(i.pageX=i.clientX+d.document.body.scrollLeft,i.pageY=i.clientY+d.document.body.scrollTop),e=0;e<o.length;e+=1)j=o[e],l[j][i.identifier]=i,b===g.EVENT_END&&(r[j]?r[j].push(i.identifier):r[j]=[i.identifier],!p&&g.HAS_POINTEREVENTS&&(m(a[0],i.identifier),p=!0));if(o)for(e=0;e<o.length&&(n(c,b,o[e],r[o[e]]),!c.propagation_stop_sig);e+=1);}})};return g.HAS_POINTEREVENTS?(g.EVENT_TYPES[g.EVENT_START]="pointerdown MSPointerDown",g.EVENT_TYPES[g.EVENT_MOVE]="pointermove MSPointerMove",g.EVENT_TYPES[g.EVENT_END]="pointerup pointercancel lostpointercapture MSPointerUp MSPointerCancel MSLostPointerCapture"):(g.EVENT_TYPES[g.EVENT_START]="touchstart mousedown",g.EVENT_TYPES[g.EVENT_MOVE]="touchmove mousemove",g.EVENT_TYPES[g.EVENT_END]="touchend touchcancel mouseup",o(e,g.EVENT_MOVE),o(e,g.EVENT_END),Date.now||(Date.now=function(){return(new Date).valueOf()})),{utils:g,extractSettings:function(a,d){var e,f={};for(e in d)(b.hasOwnProperty(e)||c.hasOwnProperty(e))&&d.hasOwnProperty(e)&&(f[e]=a.$eval(d[e]));return f},register:function(c){b=a.extend(c.defaults||{},b),delete c.defaults,i[c.name]=c},gestureOn:function(d,e,f){var h,m,n=function(a,b){return a.index<b.index?-1:a.index>b.index?1:0},p=d.data("__$mobile.config__")||{id:void 0,handlers:{},registered:{},gestures:[],bind:function(a,b){return p.handlers[a]=p.handlers[a]||[],p.handlers[a].push(b),p},unbind:function(b,c){return void 0===c?delete p.handlers[b]:a.arrayRemove(p.handlers[b],c),p},toString:function(){return p.id},extendEventData:function(b){var c,d,e=p.current.startEvent,f=b.timeStamp-e.timeStamp,h=b.center.pageX-e.center.pageX,i=b.center.pageY-e.center.pageY,j=g.getVelocity(f,h,i);if(e&&b.touches.length!==e.touches.length)for(e.touches=[],c=0,d=b.touches.length;d>c;c+=1)e.touches.push(b.touches[c]);return a.extend(b,{deltaTime:f,deltaX:h,deltaY:i,velocityX:j.x,velocityY:j.y,distance:g.getDistance(e.center,b.center),angle:g.getAngle(e.center,b.center),direction:g.getDirection(e.center,b.center),scale:g.getScale(e.touches,b.touches),rotation:g.getRotation(e.touches,b.touches),startEvent:e}),b},detect:function(b){if(p.current){if(p.stopped)return}else p.stopped=!1,p.current={inst:p,startEvent:a.extend({},b),lastEvent:!1,name:""};b=p.extendEventData(b);var c,d,e=0;for(c=p.gestures.length;c>e;e+=1)if(d=p.gestures[e],!p.stopped&&d.handler.call(p.registered[d.name],b,p)===!1){p.stopDetect();break}return p.current&&(p.current.lastEvent=b),b},stopDetect:function(){var b,c,e,f=l[p];if(p.options.touchActiveClass&&d.removeClass(p.options.touchActiveClass),f){delete l[p];for(c in f)if(k.hasOwnProperty(c)&&k[c].length>1)for(b=k[c],e=0;e<b.length;e+=1)b[e]===p&&b.splice(e,1);else delete k[c];p.stopped=!0,p.pointersCount=0,p.current&&(p.previous=a.extend({},p.current),p.current=null)}},trigger:function(a,b){if(p.handlers[a]){var c,e=p.handlers[a];for(c=0;c<e.length;c+=1)e[c].call(d,b)}return p},enabled:!0,previous:void 0,current:void 0,pointersCount:0,pointersMax:1,options:void 0,browserBehaviors:{}};if(p.id)f&&a.extend(p.options,f);else{if(p.options=a.extend(a.copy(b),f||{}),j+=1,p.id=j.toString(),d.data("__$mobile.config__",p),p.options.setBrowserBehaviors){for(h in c)c.hasOwnProperty(h)&&(p.browserBehaviors[h]=p.options[h]||c[h]);g.stopDefaultBrowserBehavior(d[0],p.browserBehaviors)}d.scope().$on("$destroy",function(){p.stopDetect(),p.enabled=!1}),g.HAS_POINTEREVENTS?(o(d,g.EVENT_START),o(d,g.EVENT_MOVE),o(d,g.EVENT_END)):o(d,g.EVENT_START)}if(e)for(e=e.split(" "),h=0;h<e.length;h+=1)m=i[e[h]],p.registered[m.name]||(p.registered[m.name]={name:m.name},m.index=m.index||1e3,p.gestures.push(m),p.gestures.sort(n)),m.setup&&m.setup.call(p.registered[m.name],d,p),(p.options[m.name+"_max_pointers"]||1)>p.pointersMax&&(p.pointersMax=p.options[m.name+"_max_pointers"]||1);return p}}}]})}(this.angular),function(a){"use strict";a.module("ngMobile",[]).factory("$mobileUtils",["$window","$timeout",function(a,b){var c,d,e,f,g=25,h=2500,i=function(a,b,c,d){return Math.abs(a-c)<g&&Math.abs(b-d)<g},j=function(a,b,c){var d;for(d=0;d<a.length;d+=1)if(i(a[d][0],a[d][1],b,c))return a.splice(d,d+1),!0;return!1},k=function(a){if(!(Date.now()-c>h)){var b=a.touches&&a.touches.length?a.touches:[a],d=b[0].clientX,g=b[0].clientY;1>d&&1>g||j("mousedown"===a.type?e:f,d,g)||(a.stopPropagation(),a.preventDefault())}},l=function(c){var g=c.touches&&c.touches.length?c.touches:[c],i=g[0].clientX,j=g[0].clientY,l=g[0].identifier;e.push([i,j,l]),f.push([i,j,l]),0===d&&a.document.addEventListener("mousedown",k,!0),d+=1,b(function(){var b;for(d-=1,0===d&&a.document.removeEventListener("mousedown",k,!0),b=0;b<e.length;b+=1)if(e[b][2]===l){e.splice(b,b+1);break}for(b=0;b<f.length;b+=1)if(f[b][2]===l){f.splice(b,b+1);break}},h,!1)};return{preventGhostClick:function(g,i){f||(f=[],e=[],d=1,a.document.addEventListener("touchstart",l,!0),a.document.addEventListener("mousedown",k,!0),b(function(){d-=1,0===d&&a.document.removeEventListener("mousedown",k,!0)},h,!1),a.document.addEventListener("click",k,!0)),c=Date.now(),j(e,g,i),j(f,g,i)},DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_UP:"up",DIRECTION_RIGHT:"right",EVENT_START:"start",EVENT_MOVE:"move",EVENT_END:"end",HAS_POINTEREVENTS:a.navigator.pointerEnabled||a.navigator.msPointerEnabled,HAS_TOUCHEVENTS:void 0===a.ontouchend,EVENT_TYPES:{},hasParent:function(a,b){for(;a;){if(a===b)return!0;a=a.parentNode}return!1},getCenter:function(a){var b,c,d=[],e=[];for(b=0,c=a.length;c>b;b+=1)d.push(a[b].pageX),e.push(a[b].pageY);return{pageX:(Math.min.apply(Math,d)+Math.max.apply(Math,d))/2,pageY:(Math.min.apply(Math,e)+Math.max.apply(Math,e))/2}},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){var c=b.pageY-a.pageY,d=b.pageX-a.pageX;return 180*Math.atan2(c,d)/Math.PI},getDirection:function(a,b){var c=Math.abs(a.pageX-b.pageX),d=Math.abs(a.pageY-b.pageY);return c>=d?a.pageX-b.pageX>0?this.DIRECTION_LEFT:this.DIRECTION_RIGHT:a.pageY-b.pageY>0?this.DIRECTION_UP:this.DIRECTION_DOWN},getDistance:function(a,b){var c=b.pageX-a.pageX,d=b.pageY-a.pageY;return Math.sqrt(c*c+d*d)},getScale:function(a,b){return a.length>=2&&b.length>=2?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return a.length>=2&&b.length>=2?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a===this.DIRECTION_UP||a===this.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(a,b){var c,d,e,f=["webkit","khtml","moz","ms","o",""];if(b&&a.style){for(d=0;d<f.length;d+=1)for(e in b)b.hasOwnProperty(e)&&(c=e,f[d]&&(c=f[d]+c.substring(0,1).toUpperCase()+c.substring(1)),a.style[c]=b[e]);"none"===b.userSelect&&(a.onselectstart=function(){return!1},a.ondragstart=function(){return!1})}}}}]).provider("$mobile",function(){var b={setBrowserBehaviors:!0},c={userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"};this.setGestureDefaults=function(c){a.extend(b,c)},this.setDefaultBrowserBehavior=function(b){a.extend(c,b)},this.$get=["$window","$document","$timeout","$mobileUtils",function(d,e,f,g){var h,i={},j=0,k={},l={},m=function(a,b){f(function(){a.releasePointerCapture(b)},0,!1)},n=function(b,c,d,e){var f,h;if(e=e||[],h=[],a.forEach(l[d],function(a){this.push(a)},h),c===g.EVENT_END&&e.length-d.pointersCount>0&&(c=g.EVENT_MOVE),d.detect({center:g.getCenter(h),timeStamp:Date.now(),target:b.target,touches:h,eventType:c,srcEvent:b,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault?this.srcEvent.preventDefault():this.srcEvent.returnValue=!1},stopPropagation:function(){this.srcEvent.propagation_stop_sig=!0,this.srcEvent.stopPropagation?this.srcEvent.stopPropagation():this.srcEvent.cancelBubble=!0},stopDetect:function(){return d.stopDetect()}}),c===g.EVENT_END)d.stopDetect();else for(f=0;f<e.length;f+=1)delete k[e[f]],delete l[d][e[f]],d.pointersCount=d.pointersCount-1},o=function(b,c){b.bind(g.EVENT_TYPES[c],function(e){if(e=e.originalEvent||e,!(e===h||e.type.match(/mouse/i)&&1!==(e.which||e.button)||e.type.match(/pointerdown/i)&&0!==e.button)){h=e;var f,i,j,o,p,q=e.changedTouches&&e.changedTouches.length?e.changedTouches:e.touches&&e.touches.length?e.touches:[e],r=[],s={};if(c===g.EVENT_START){if(!g.HAS_POINTEREVENTS)if(e.touches){for(o={},f=0;f<e.touches.length;f+=1)o[e.touches[f].identifier]=!0;for(f=0;f<e.touches.length;f+=1)o[e.changedTouches[f].identifier]=!0;for(a.forEach(k,function(a,b){o.hasOwnProperty(b)||r.push(b)}),i=0;i<r.length;i+=1)for(o=k[r[i]],f=0;f<o.length;f+=1)o[f].stopDetect();r=[],o=void 0}else if(k[1])for(o=k[j.identifier],f=0;f<o.length;f+=1)o[f].stopDetect();f=b;do o=f.data("__$mobile.config__"),o&&r.push(o),f=f.parent();while(f[0]);for(i=0;i<q.length;i+=1){for(p=!1,j=q[i],j.identifier=void 0!==j.identifier?j.identifier:void 0!==j.pointerId?j.pointerId:1,k[j.identifier]=[],f=0;f<r.length;f+=1)o=r[f],o.pointersCount<o.pointersMax&&(o.options.touchActiveClass&&b.addClass(o.options.touchActiveClass),k[j.identifier].push(o),0===o.pointersCount&&(l[o]={}),l[o][j.identifier]=j,o.pointersCount=o.pointersCount+1,!p&&g.HAS_POINTEREVENTS&&(b[0].setPointerCapture||(b[0].setPointerCapture=b[0].msSetPointerCapture,b[0].releasePointerCapture=b[0].msReleasePointerCapture),b[0].setPointerCapture(j.identifier),p=!0));d.document.addEventListener||(j.pageX=j.clientX+d.document.body.scrollLeft,j.pageY=j.clientY+d.document.body.scrollTop)}}else for(i=0;i<q.length;i+=1)if(p=!1,j=q[i],j.identifier=void 0!==j.identifier?j.identifier:void 0!==j.pointerId?j.pointerId:1,k[j.identifier])for(r.push.apply(r,k[j.identifier]),d.document.addEventListener||(j.pageX=j.clientX+d.document.body.scrollLeft,j.pageY=j.clientY+d.document.body.scrollTop),f=0;f<r.length;f+=1)o=r[f],l[o][j.identifier]=j,c===g.EVENT_END&&(s[o]?s[o].push(j.identifier):s[o]=[j.identifier],!p&&g.HAS_POINTEREVENTS&&(m(b[0],j.identifier),p=!0));if(r.length>0)for(f=0;f<r.length;f+=1)e.propagation_stop_sig?r[f].stopDetect():n(e,c,r[f],s[r[f]])}})};return g.HAS_POINTEREVENTS?(g.EVENT_TYPES[g.EVENT_START]="pointerdown MSPointerDown",g.EVENT_TYPES[g.EVENT_MOVE]="pointermove MSPointerMove",g.EVENT_TYPES[g.EVENT_END]="pointerup pointercancel lostpointercapture MSPointerUp MSPointerCancel MSLostPointerCapture"):(g.EVENT_TYPES[g.EVENT_START]="touchstart mousedown",g.EVENT_TYPES[g.EVENT_MOVE]="touchmove mousemove",g.EVENT_TYPES[g.EVENT_END]="touchend touchcancel mouseup",o(e,g.EVENT_MOVE),o(e,g.EVENT_END),Date.now||(Date.now=function(){return(new Date).valueOf()})),{utils:g,extractSettings:function(a,d){var e,f={};for(e in d)(b.hasOwnProperty(e)||c.hasOwnProperty(e))&&d.hasOwnProperty(e)&&(f[e]=a.$eval(d[e]));return f},register:function(c){b=a.extend(c.defaults||{},b),delete c.defaults,i[c.name]=c},gestureOn:function(d,e,f){var h,m,n=function(a,b){return a.index<b.index?-1:a.index>b.index?1:0},p=d.data("__$mobile.config__")||{id:void 0,handlers:{},registered:{},gestures:[],bind:function(a,b){return p.handlers[a]=p.handlers[a]||[],p.handlers[a].push(b),p},unbind:function(b,c){return void 0===c?delete p.handlers[b]:a.arrayRemove(p.handlers[b],c),p},toString:function(){return p.id},extendEventData:function(b){var c,d,e=p.current.startEvent,f=b.timeStamp-e.timeStamp,h=b.center.pageX-e.center.pageX,i=b.center.pageY-e.center.pageY,j=g.getVelocity(f,h,i);if(e&&b.touches.length!==e.touches.length)for(e.touches=[],c=0,d=b.touches.length;d>c;c+=1)e.touches.push(b.touches[c]);return a.extend(b,{deltaTime:f,deltaX:h,deltaY:i,velocityX:j.x,velocityY:j.y,distance:g.getDistance(e.center,b.center),angle:g.getAngle(e.center,b.center),direction:g.getDirection(e.center,b.center),scale:g.getScale(e.touches,b.touches),rotation:g.getRotation(e.touches,b.touches),startEvent:e}),b},detect:function(b){if(p.current){if(p.stopped)return p.stopDetect(),void 0}else p.stopped=!1,p.current={inst:p,startEvent:a.extend({},b),lastEvent:!1,name:""};b=p.extendEventData(b);var c,d,e=0;for(c=p.gestures.length;c>e;e+=1)if(d=p.gestures[e],!p.stopped&&d.handler.call(p.registered[d.name],b,p)===!1){p.stopDetect();break}return p.current&&(p.current.lastEvent=b),b},stopDetect:function(){var b,c,e,f=l[p];if(p.options.touchActiveClass&&d.removeClass(p.options.touchActiveClass),f){delete l[p];for(c in f)if(k.hasOwnProperty(c)&&k[c].length>1)for(b=k[c],e=0;e<b.length;e+=1)b[e]===p&&b.splice(e,1);else delete k[c]}p.stopped=!0,p.pointersCount=0,p.current&&(p.previous=a.extend({},p.current),p.current=null)},trigger:function(a,b){if(p.handlers[a]){var c,e=p.handlers[a];for(c=0;c<e.length;c+=1)e[c].call(d,b)}return p},previous:void 0,current:void 0,pointersCount:0,pointersMax:1,options:void 0,browserBehaviors:{}};if(p.id)f&&a.extend(p.options,f);else{if(p.options=a.extend(a.copy(b),f||{}),j+=1,p.id=j.toString(),d.data("__$mobile.config__",p),p.options.setBrowserBehaviors){for(h in c)c.hasOwnProperty(h)&&(p.browserBehaviors[h]=p.options[h]||c[h]);g.stopDefaultBrowserBehavior(d[0],p.browserBehaviors)}d.scope().$on("$destroy",function(){p.stopDetect()}),g.HAS_POINTEREVENTS?(o(d,g.EVENT_START),o(d,g.EVENT_MOVE),o(d,g.EVENT_END)):o(d,g.EVENT_START)}if(e)for(e=e.split(" "),h=0;h<e.length;h+=1)m=i[e[h]],p.registered[m.name]||(p.registered[m.name]={name:m.name},m.index=m.index||1e3,p.gestures.push(m),p.gestures.sort(n)),m.setup&&m.setup.call(p.registered[m.name],d,p),(p.options[m.name+"_max_pointers"]||1)>p.pointersMax&&(p.pointersMax=p.options[m.name+"_max_pointers"]||1);return p}}}]})}(this.angular),function(a){"use strict";a.module("ngMobile",[]).factory("$mobileUtils",["$window","$timeout",function(a,b){var c,d,e,f,g=25,h=2500,i=function(a,b,c,d){return Math.abs(a-c)<g&&Math.abs(b-d)<g},j=function(a,b,c){var d;for(d=0;d<a.length;d+=1)if(i(a[d][0],a[d][1],b,c))return a.splice(d,d+1),!0;return!1},k=function(a){if(!(Date.now()-c>h)){var b=a.touches&&a.touches.length?a.touches:[a],d=b[0].clientX,g=b[0].clientY;1>d&&1>g||j("mousedown"===a.type?e:f,d,g)||(a.stopPropagation(),a.preventDefault())}},l=function(c){var g=c.touches&&c.touches.length?c.touches:[c],i=g[0].clientX,j=g[0].clientY,l=g[0].identifier;e.push([i,j,l]),f.push([i,j,l]),0===d&&a.document.addEventListener("mousedown",k,!0),d+=1,b(function(){var b;for(d-=1,0===d&&a.document.removeEventListener("mousedown",k,!0),b=0;b<e.length;b+=1)if(e[b][2]===l){e.splice(b,b+1);break}for(b=0;b<f.length;b+=1)if(f[b][2]===l){f.splice(b,b+1);break}},h,!1)};return{preventGhostClick:function(g,i){f||(f=[],e=[],d=1,a.document.addEventListener("touchstart",l,!0),a.document.addEventListener("mousedown",k,!0),b(function(){d-=1,0===d&&a.document.removeEventListener("mousedown",k,!0)},h,!1),a.document.addEventListener("click",k,!0)),c=Date.now(),j(e,g,i),j(f,g,i)},DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_UP:"up",DIRECTION_RIGHT:"right",EVENT_START:"start",EVENT_MOVE:"move",EVENT_END:"end",HAS_POINTEREVENTS:a.navigator.pointerEnabled||a.navigator.msPointerEnabled,HAS_TOUCHEVENTS:void 0===a.ontouchend,EVENT_TYPES:{},hasParent:function(a,b){for(;a;){if(a===b)return!0;a=a.parentNode}return!1},getCenter:function(a){var b,c,d=[],e=[];for(b=0,c=a.length;c>b;b+=1)d.push(a[b].pageX),e.push(a[b].pageY);return{pageX:(Math.min.apply(Math,d)+Math.max.apply(Math,d))/2,pageY:(Math.min.apply(Math,e)+Math.max.apply(Math,e))/2}},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){var c=b.pageY-a.pageY,d=b.pageX-a.pageX;return 180*Math.atan2(c,d)/Math.PI},getDirection:function(a,b){var c=Math.abs(a.pageX-b.pageX),d=Math.abs(a.pageY-b.pageY);return c>=d?a.pageX-b.pageX>0?this.DIRECTION_LEFT:this.DIRECTION_RIGHT:a.pageY-b.pageY>0?this.DIRECTION_UP:this.DIRECTION_DOWN},getDistance:function(a,b){var c=b.pageX-a.pageX,d=b.pageY-a.pageY;return Math.sqrt(c*c+d*d)},getScale:function(a,b){return a.length>=2&&b.length>=2?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return a.length>=2&&b.length>=2?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a===this.DIRECTION_UP||a===this.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(a,b){var c,d,e,f=["webkit","khtml","moz","ms","o",""];if(b&&a.style){for(d=0;d<f.length;d+=1)for(e in b)b.hasOwnProperty(e)&&(c=e,f[d]&&(c=f[d]+c.substring(0,1).toUpperCase()+c.substring(1)),a.style[c]=b[e]);"none"===b.userSelect&&(a.onselectstart=function(){return!1},a.ondragstart=function(){return!1})}}}}]).provider("$mobile",function(){var b={setBrowserBehaviors:!0},c={userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"};this.setGestureDefaults=function(c){a.extend(b,c)},this.setDefaultBrowserBehavior=function(b){a.extend(c,b)},this.$get=["$window","$document","$timeout","$mobileUtils",function(d,e,f,g){var h,i={},j=0,k={},l={},m=function(a,b){f(function(){a.releasePointerCapture(b)},0,!1)},n=function(b,c,d,e){var f,h;if(e=e||[],h=[],a.forEach(l[d],function(a){this.push(a)},h),c===g.EVENT_END&&e.length-d.pointersCount>0&&(c=g.EVENT_MOVE),d.detect({center:g.getCenter(h),timeStamp:Date.now(),target:b.target,touches:h,eventType:c,srcEvent:b,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault?this.srcEvent.preventDefault():this.srcEvent.returnValue=!1},stopPropagation:function(){this.srcEvent.propagation_stop_sig=!0,this.srcEvent.stopPropagation?this.srcEvent.stopPropagation():this.srcEvent.cancelBubble=!0},stopDetect:function(){return d.stopDetect()}}),c===g.EVENT_END)d.stopDetect();else for(f=0;f<e.length;f+=1)delete k[e[f]],delete l[d][e[f]],d.pointersCount=d.pointersCount-1},o=function(b,c){b.bind(g.EVENT_TYPES[c],function(e){if(e=e.originalEvent||e,!(e===h||e.type.match(/mouse/i)&&1!==(e.which||e.button)||e.type.match(/pointerdown/i)&&0!==e.button)){h=e;var f,i,j,o,p,q=e.changedTouches&&e.changedTouches.length?e.changedTouches:e.touches&&e.touches.length?e.touches:[e],r=[],s={};if(c===g.EVENT_START){if(!g.HAS_POINTEREVENTS)if(e.touches){for(o={},f=0;f<e.touches.length;f+=1)o[e.touches[f].identifier]=!0;for(f=0;f<e.changedTouches.length;f+=1)o[e.changedTouches[f].identifier]=!0;for(a.forEach(k,function(a,b){o.hasOwnProperty(b)||r.push(b)}),i=0;i<r.length;i+=1)for(o=k[r[i]],f=0;f<o.length;f+=1)o[f].stopDetect();r=[],o=void 0}else if(k[1])for(o=k[1],f=0;f<o.length;f+=1)o[f].stopDetect();f=b;do o=f.data("__$mobile.config__"),o&&r.push(o),f=f.parent();while(f[0]);for(i=0;i<q.length;i+=1){for(p=!1,j=q[i],j.identifier=void 0!==j.identifier?j.identifier:void 0!==j.pointerId?j.pointerId:1,k[j.identifier]=[],f=0;f<r.length;f+=1)o=r[f],o.pointersCount<o.pointersMax&&(o.options.touchActiveClass&&b.addClass(o.options.touchActiveClass),k[j.identifier].push(o),0===o.pointersCount&&(l[o]={}),l[o][j.identifier]=j,o.pointersCount=o.pointersCount+1,!p&&g.HAS_POINTEREVENTS&&(b[0].setPointerCapture||(b[0].setPointerCapture=b[0].msSetPointerCapture,b[0].releasePointerCapture=b[0].msReleasePointerCapture),b[0].setPointerCapture(j.identifier),p=!0));d.document.addEventListener||(j.pageX=j.clientX+d.document.body.scrollLeft,j.pageY=j.clientY+d.document.body.scrollTop)}}else for(i=0;i<q.length;i+=1)if(p=!1,j=q[i],j.identifier=void 0!==j.identifier?j.identifier:void 0!==j.pointerId?j.pointerId:1,k[j.identifier])for(r.push.apply(r,k[j.identifier]),d.document.addEventListener||(j.pageX=j.clientX+d.document.body.scrollLeft,j.pageY=j.clientY+d.document.body.scrollTop),f=0;f<r.length;f+=1)o=r[f],l[o][j.identifier]=j,c===g.EVENT_END&&(s[o]?s[o].push(j.identifier):s[o]=[j.identifier],!p&&g.HAS_POINTEREVENTS&&(m(b[0],j.identifier),p=!0));if(r.length>0)for(f=0;f<r.length;f+=1)e.propagation_stop_sig?r[f].stopDetect():n(e,c,r[f],s[r[f]])}})};return g.HAS_POINTEREVENTS?(g.EVENT_TYPES[g.EVENT_START]="pointerdown MSPointerDown",g.EVENT_TYPES[g.EVENT_MOVE]="pointermove MSPointerMove",g.EVENT_TYPES[g.EVENT_END]="pointerup pointercancel lostpointercapture MSPointerUp MSPointerCancel MSLostPointerCapture"):(g.EVENT_TYPES[g.EVENT_START]="touchstart mousedown",g.EVENT_TYPES[g.EVENT_MOVE]="touchmove mousemove",g.EVENT_TYPES[g.EVENT_END]="touchend touchcancel mouseup",o(e,g.EVENT_MOVE),o(e,g.EVENT_END),Date.now||(Date.now=function(){return(new Date).valueOf()})),{utils:g,extractSettings:function(a,d){var e,f={};for(e in d)(b.hasOwnProperty(e)||c.hasOwnProperty(e))&&d.hasOwnProperty(e)&&(f[e]=a.$eval(d[e]));return f},register:function(c){b=a.extend(c.defaults||{},b),delete c.defaults,i[c.name]=c},gestureOn:function(d,e,f){var h,m,n=function(a,b){return a.index<b.index?-1:a.index>b.index?1:0},p=d.data("__$mobile.config__")||{id:void 0,handlers:{},registered:{},gestures:[],bind:function(a,b){return p.handlers[a]=p.handlers[a]||[],p.handlers[a].push(b),p},unbind:function(b,c){return void 0===c?delete p.handlers[b]:a.arrayRemove(p.handlers[b],c),p},toString:function(){return p.id},extendEventData:function(b){var c,d,e=p.current.startEvent,f=b.timeStamp-e.timeStamp,h=b.center.pageX-e.center.pageX,i=b.center.pageY-e.center.pageY,j=g.getVelocity(f,h,i);if(e&&b.touches.length!==e.touches.length)for(e.touches=[],c=0,d=b.touches.length;d>c;c+=1)e.touches.push(b.touches[c]);return a.extend(b,{deltaTime:f,deltaX:h,deltaY:i,velocityX:j.x,velocityY:j.y,distance:g.getDistance(e.center,b.center),angle:g.getAngle(e.center,b.center),direction:g.getDirection(e.center,b.center),scale:g.getScale(e.touches,b.touches),rotation:g.getRotation(e.touches,b.touches),startEvent:e}),b},detect:function(b){if(p.current){if(p.stopped)return p.stopDetect(),void 0}else p.stopped=!1,p.current={inst:p,startEvent:a.extend({},b),lastEvent:!1,name:""};b=p.extendEventData(b);var c,d,e=0;for(c=p.gestures.length;c>e;e+=1)if(d=p.gestures[e],!p.stopped&&d.handler.call(p.registered[d.name],b,p)===!1){p.stopDetect();break}return p.current&&(p.current.lastEvent=b),b},stopDetect:function(){var b,c,e,f=l[p];if(p.options.touchActiveClass&&d.removeClass(p.options.touchActiveClass),f){delete l[p];for(c in f)if(k.hasOwnProperty(c)&&k[c].length>1)for(b=k[c],e=0;e<b.length;e+=1)b[e]===p&&b.splice(e,1);else delete k[c]}p.stopped=!0,p.pointersCount=0,p.current&&(p.previous=a.extend({},p.current),p.current=null)},trigger:function(a,b){if(p.handlers[a]){var c,e=p.handlers[a];for(c=0;c<e.length;c+=1)e[c].call(d,b)}return p},previous:void 0,current:void 0,pointersCount:0,pointersMax:1,options:void 0,browserBehaviors:{}};if(p.id)f&&a.extend(p.options,f);else{if(p.options=a.extend(a.copy(b),f||{}),j+=1,p.id=j.toString(),d.data("__$mobile.config__",p),p.options.setBrowserBehaviors){for(h in c)c.hasOwnProperty(h)&&(p.browserBehaviors[h]=p.options[h]||c[h]);g.stopDefaultBrowserBehavior(d[0],p.browserBehaviors)}d.scope().$on("$destroy",function(){p.stopDetect()}),g.HAS_POINTEREVENTS?(o(d,g.EVENT_START),o(d,g.EVENT_MOVE),o(d,g.EVENT_END)):o(d,g.EVENT_START)}if(e)for(e=e.split(" "),h=0;h<e.length;h+=1)m=i[e[h]],p.registered[m.name]||(p.registered[m.name]={name:m.name},m.index=m.index||1e3,p.gestures.push(m),p.gestures.sort(n)),m.setup&&m.setup.call(p.registered[m.name],d,p),(p.options[m.name+"_max_pointers"]||1)>p.pointersMax&&(p.pointersMax=p.options[m.name+"_max_pointers"]||1);return p}}}]})}(this.angular);